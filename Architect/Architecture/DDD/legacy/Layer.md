# DDD를 도입하는 경우 어떤 코드를 어느 레이어에 둘 것인가?

DDD를 도입하는 소프트웨어의 경우, 막상 어떠한 기능을 구현할 때 어느 레이어에 놓아야 하는지 헷갈리는 경우가 있다.

예를들어서, 북마크 서비스를 만들 때, 엔트리의 제목을 변경할 때 변경 로그를 저장하는 경우는 로그 저장하는 코드를 어느 레이어에 두는 지 헷갈릴 수 있다.

## 도메인과 어플리케이션 로직

### 1. 도메인 레이어(도메인 서비스)에서 엔트리의 제목을 변경하고, 엔트리 로그도 기록

- 이 경우는 로그 자체가 비즈니스 로직이 되는 경우
- 관리자가 바뀌어도 로직이 계속 지속되는 것을 예상하는 경우
- e.g
  - 로그를 변경한 유저의 사진을 제목 아래에 나열한다

### 2. 애플리케이션 레이어에서 엔트리의 제목을 변경하고, 엔트리 로그도 기록

- 이 경우는 로그 자체가 비즈니스 로직은 아닌 경우
- 관리자가 바뀌면 이 로직이 바뀔 가능성이 있다고 생각될 경우

## 결론

> 이 로직은 비지니스 로직(유저에게 제공하는 서비스의 코어 벨류를 실현 하는 로직)과 직접적인 관련이 있는가?
