# Perl 기초문법과 상념

개인적으로 Hatena라는 회사에서 Perl이라는 언어를 사용하게 되었다. 대학원생 아르바이트로서 1년동안의 장기 계약으로 프로젝트에 참여하게 됐는데, Hatena Bookmark라는 서비스가 Perl과 Scala로 되어있었다. 개인적으로 Scala에 흥미가 많던 나는, 되도록이면 Scala쪽 일을 하길 희망했으나(정말 간절하게) 현 상황에서 가장 필요한 일들은 Perl쪽에 많다고 하니 어쩔 수 없이 Perl을 배우게 되었다. 사실 썩 기분이 좋지는 않았다.

이대로 공부하면 의욕이 떨어질 것 같아 가장 먼저 *왜 내가 Perl을 배워야 하고 배운다면 어떤 것이 좋은지* 를 가볍게 살피고자 한다.

그렇지 않으면 나의 멘탈이 많이 흔들릴 것 같기 때문이다. 그래도 개인적으로 Hatena는 "일본 관서의 웹 회사라면 Hatena"라고 할 정도로 정말 기술력으로는 유명한 기업이기 때문에 비단 언어 뿐 아니라, 인프라나 설계능력 아름다운 코드를 쓰는 능력을 차근차근 배워나갈 생각을 하면 이정도 고난(?)은 아무것도 아닌 듯 하다. 결국 내 마음먹기 달린거겠지.

내가 좋아하는 고든램지 역시 처음 요리를 시작할때 "어떠한 식재료를 보고 겁 먹지 않을 정도의 실력"을 목표로 삼았던 것 처럼, 나 역시 Perl이라는 이름에 겁먹지 않고 아래와 같이 내가 평소에 생각했던대로 묵묵히 새로운 세계를 걸어나가려 한다.

> 프로그래밍 언어는 결국 문제 해결을 위한 도구이다.

p.s 참고로 이 글을 쓰고 있는 지금은 2017년 12월 25일. 크리스마스 입사라 Hatena는 나에게 절대 잊을 수 없는 회사가 될 것 같다.

## 철학

TIMTOWTDI(There Is More Than One Way To Do It)

## Perl의 장점

Perl is Humble Language.

- 어떠한 운영체제에서도 사용 가능(Portability)
- 프로토타이핑(Prototyping)
- 인터프리팅 언어이면서도 안정적(Interpreting language)
  - Perl은 먼저 바이트코드로 완벽하게 번역하므로, 재앙에 맞닥드리지 않을 가능성이 크다.
- 완전성(Complete)
  - awk의 정규식, sed의 치환 편집, C와 유사한 구조, sh의 단순함.
- 효율적(Efficiency)
  - 사용하기 쉬으므로 생선적인 언어이다.
- C언어에 삽입할 수 있고, C언어를 이용해서 확장할 수 있다(Embeddable, Expandable)
- TCP/IP 네트웍 처리 가능
- 내장 디버거 기능
- CPAN에는 웬만한 것이 있다.
- 텍스트 데이터를 다루는 데에 환상적이다.

## 기본 정리

### 기본 데이터 타입

- Scalar(스칼라)
  - 하나의 값, 문자열/숫자/레퍼런스, `$calar`
- Array(배열)
  - `@rray`
  - 값을 얻을 때는 `$array[1]`이런 식으로(스칼라가 된다)
- Hash(해시)
  - `%ash`

### use strict; use warnings; 는 일단 붙인다.

### use utf8;

멀티 바이트 문자를 내부적으로 UTF-8문자열로 해석.

## 팁(하테나 연수 피드백)

### 서브 루틴에서 배열이나 해시를 돌려주는 경우

Perl에서 배열이나 해시를 서브루틴에서 돌려줄때는 레퍼런스로 돌려준다. 안그러면 shallow copy가 일어나기 때문에, 살짝 오버헤드가 발생한다.

### 해시에 지정된 키가 없는 경우 에러 핸들링

- `croak`을 사용한 방법
- `undef`를 반환하게 한 다음, 알아서 핸들링 하기

croak의 경우 에러 핸들링은 `Test::Exception`에서 `throws_ok`나 `dies_ok`를 이용해서 한다.
