# 정부의 불법 사이트 차단

## 의문

- *감청 서버는 어떻게 만들어지는가?*
  - 엄청난 부하를 어떻게 견디는가?
- *DNS 오염 같은 경우에는, 브라우저가 IP주소를 캐시하고 있다면 문제가 없는 것인가?*

## 방법

### 1. HTTP URL 차단

- 개요
  - 정부의 HTTP 감청 서버가 데이터 요청 메시지를 감청해서, 해당 요청 사이트가 블랙 리스트에 있는 지확인(ISP와 협력)
    - 블랙 리스트라면, 감청 서버가 인터넷 브라우저에 대신 응답
- 파훼
  - HTTPS 사용
  - VPN을 사용하여 외국 IP 주소로 변경

### 2. DNS 오염1

- 개요
  - Local DNS의 경우 정부가 ISP에 지시해서 블랙 리스트의 DNS response 데이터를 변조시킴
- 파훼
  - DNS자체를 해외 DNS를 사용

### 3. DNS 오염2

- 개요
  - 브라우저에서 DNS로의 요청이 평문이므로, 사람들이 보내는 모든 DNS 요청 패킷을 모두 감청하여, 블랙리스트에 관련되었다면 해당 패킷 버림
- 파훼
  - DNS 요청도 HTTPS로 암호화

### 4. SNI 필드 차단

- 개요
  - DNS로부터 IP주소를 받고, 해당 주소로 HTTPS 요청할 때 handshake 단계에서 평문인 SNI 필드를 보고 블랙리스트에 속하는 호스트이면 해당 패킷을 버림
- 파훼
  - VPN 사용
  - TLS 1.3에서 SNI 필드 암호화
