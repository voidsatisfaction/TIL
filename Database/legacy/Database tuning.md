# Database tuning...

## Sources
- [DB guide](http://www.dbguide.net/db.db?cmd=view&boardUid=13865&boardConfigUid=9&boardIdx=82&boardStep=1)

## Conclusion

일단 이 문제에 대해서 5분정도 생각하자.
그리고 모르는 것이 있으면 일단 **검색**하라.
그다음에 다른 사람들에게 물어보라.

1. 무엇이 '문제'인가? (자료수집 + 문제 재정의) => DBMS의 성능개선 도구를 이용하자!(trace, dictionary info...)
2. 문제 해결에 있어서 목표가 무엇인가?
3. 문제를 어떻게 해결할 것인가?
4. 실제 문제 해결
5. 문제 해결 후 피드백(평가)

## Contents

### 데이터베이스의 성능이란?
- Throughput
  - 트랜잭션 수 / 시간
- Throughput Time
  - 작업이 완료되는데에 걸리는 시간(batch 프로그래밍)
    - 병행 처리(Parallel Processing)를 실시한다.
    - 인덱스 스캔보다 Full 테이블 스캔으로 처리한다.
    - Nest-Loop 조인보다 Hash 조인으로 처리한다.
    - 대량 작업을 하기 위한 SORT_AREA, HASH_AREA 의 메모리를 확보한다.
    - 병목을 없애기 위해서 작업 계획을 한다.
    - 대형 테이블인 경우는 파티션으로 생성한다.
- Response Time
  - 사용자의 입력에 대하여 시스템이 작동할때까지의 시간
  - **사용자가 느끼는 성능의 척도**
    - 인덱스를 이용하여 액세스 경로를 단축한다.
    - 부분 범위 처리를 실시한다.
    - Sort-Merge 조인이나 Hash 조인을 사용하지 않고 Nest-Loop 조인으로 처리한다.
    - Sort-merge 조인이나 해쉬 조인을 사용하지 않고 Nest-Loop 조인으로 처리한다.
    - 잠김(Locking) 발생을 억제한다. 예를 들어 시퀀스(Sequence) 오브젝트 이용한다.
    - 하드 파싱을 억제한다.
- Load Time
  - 정기적 or 비정기적으로 수행하는 데이터베이스의 데이터를 로드하는 작업 수행시간(ex 도서관 시스템의 도서상황 갱신)
    - 로그 파일을 생성하지 않는 다이렉트 로드(Direct Load)를 사용한다.
    - 병렬 로드 작업을 실시한다.
    - DISK IO 경합이 없도록 작업을 분산한다.
    - 인덱스가 많은 테이블인 경우는 인덱스를 삭제하고 데이터 로드 후 인덱스를 생성한다.
    - 파티션을 이용하여 작업을 단순화한다.

### 데이터베이스의 성능 문제는 대부분
1. 하드웨어 자원의 부족
2. 데이터베이스 설계 비효율성
3. SQL의 비효율성


1. **데이터베이스 설계 튜닝**	데이터베이스 설계 단계에서 성능을 고려하여 설계
2. **데이터베이스 환경 튜닝**	성능을 고려하여 메모리나 블록 크기 등을 지정
3. **SQL 문장 튜닝**	성능을 고려하여 SQl 문장을 작성


때문에 생긴다. 단순히 하드웨어를 교체하기 전에, 설계의 비효율성이 있는지, SQL자체에 비효율성이 있는지 생각한다.
  
  
  
  
  
  
  
  
  
  