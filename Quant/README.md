# 퀀트(Quant)

- 의문
- 좋은 자료
- 개요
  - 투자자 vs 트레이더
- 트레이딩 방식
  - 델타 헤징 알고리즘
  - 블랙-숄즈 옵션 거래 알고리즘
  - 뱀버거 페어 트레이딩 알고리즘(Statistical Arbitrage)
  - 다변인 모델 통계적 차익거래 알고리즘
  - 히든 마코프 패턴 인식 알고리즘
  - 마켓 메이킹 알고리즘
  - 초단타 트레이딩 알고리즘

## 의문

## 좋은 자료

- [알고리즘 트레이딩](https://ko.wikipedia.org/wiki/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98_%ED%8A%B8%EB%A0%88%EC%9D%B4%EB%94%A9)
- [금융 데이터를 요리하다 - ppss](https://ppss.kr/archives/150064)
- [엔트로피 트레이딩 그룹 - entropy trading group](https://www.entropy-trading.com/press-release)

## 개요

### 투자자 vs 트레이더

- 투자자
  - 정의
    - 어떤 산업이나 주식, 부동산, 훈율 등에 돈을 투자해서 그 가치가 상승하기를 기대하는 사람
- 트레이더
  - 정의
    - 물건을 팔아야 하는 사람으로부터 산 다음, 필요한 사람에게 팔면서 차액을 남기는 사람
    - 결국 싸게 사서 비싸게 판매하는 것

### 효율적 시장 가설(Efficient Market Hypothesis: EMH)

이 말은 장기적인 관점에서의 가치투자는 의미가 있다는 것인가?

*페어 트레이딩은 결국에는 두 자산의 가격사이의 스프레드가 평균으로 회귀한다는 것을 전제로 하는데, 가격이 벌어졌다는 것 자체가 이미 가용 정보를 전부 반영한 결과이기 떄문에 그런식으로 예측하는 것이 의미가 없다는 것인가?*

- 정의
  - 자산의 가격은 모든 가용의(공개) 정보를 반영하고 있다는 가설
- 특징
  - => 임의의 투자자는 이용 가능한 정보를 기초로 한 거래에 의해 초과 수익을 얻을 수 없다.
    - 투자자의 예측에 영향을 준 정보로 인한 가격변화는 또다시 발생하지 않을 것
  - => 자산의 가격은 오직 새로운 정보에만 반응할 것
    - 가격의 내재가치(진실인지 거짓인지 등)를 정확히 반영하는지와는 무관
  - => 모든 가용의 정보들을 이용하여서는 장기적으로 시장 수익률을 넘을 수 없다.
    - Swing trading, arbitrage, candlestick patterns, trend lines
    - 시장 수익률을 넘기 위해서는 리스크가 높은 자산을 구매하는 수 밖에 없음
- EMH의 반례
  - 임의의 투자자는 각자 아는 정보에 대해서 비대칭성 존재
  - 주식의 가격은 새 정보를 반영하는데에 시간이 걸림
  - 주식의 가격은 휴먼에러나 감정적인 반응에 영향을 받을 수 있음
  - market anomaly의 존재
    - EMH를 따르지 않는 사례

## 트레이딩 방식

핵심: 싸게사서 비싸게 팔자 -> 시장의 알파 찾자

- 델타 헤징 알고리즘
  - a(알파): 대상 자산 가격의 저평가
- 블랙-숄즈 옵션 거래 알고리즘
  - a: 대상 자산 가격의 저평가
- 뱀버거 페어 트레이딩 알고리즘
  - a: 페어의 크고 작은 가격 스프레드
- 다변인 모델 통계적 차익거래 알고리즘
- 히든 마코프 패턴 인식 알고리즘
  - a: 대상 자산 가격의 저평가
- 마켓 메이킹 알고리즘
  - a: 대상 자산 매수 매도 가격 스프레드

### 델타 헤징 알고리즘

워런트가 성공하던 실패하던 우리의 수익은 평균 가격을 크게 벗어나는 워런트의 가격일때 평균회귀법칙에 따라서 돌아올 것을 기대하고 매매함

저평가된 파생상품을 싸게 사서 비싸게 판매하는데, 그 사이에 파생상품과 관계가 있는 기초자산을 가지고 헤징하는 것

1. 매수하거나 매도한 파생상품과 연관된 기초상품을 찾는다.
2. 파생상품의 민감도인 delta를 계산한다.
3. 계산한 delta만큼 기초 상품을 매수하거나 매도해서 위험을 상쇄 시킨다.
4. 주식이 상승하든 하락하든 큰 손해를 볼 위험이 없는 헤징 상태가 된다.
5. 일정 시간이 지난 뒤에 델타를 다시 계산해서 매수량을 조절한다.
6. 2로 돌아감

### 블랙-숄즈 옵션 거래 알고리즘

- 블랙-숄즈 방정식
  - 개요
    - 어떤 종류의 옵션이라도 조건을 집어넣으면 가격을 알려주는 공식
    - 옵션에 포함돼 있는 구성 성분, 즉 재료들을 알려줌
- 포트폴리오 보험
  - 개요
    - 개개인의 투자자가 갖고있는 자산가치의 보장
    - 옵션을 일일이 살 필요가 없이 시장 전체에 대한 보장을 해줌

*블랙-숄즈 옵션 거래 알고리즘(정확히 어떻게 이해하면 되는가?)*

1. 블랙-숄즈 방정식을 이용해서 옵션 가격을 계산한다.
2. 계산한 옵션보다 싼 값에 매수하고 비싼 값에 매도한다.
3. 블랙-숄즈를 편미분한 공식을 이용해서 옵션의 재료를 알아낸다.
4. 각 재료들이 상쇄될 수 있도록 포트폴리오를 조정한다.
5. 시간이 지나면 재료 비율을 다시 계산해서 조정해준다.

### 뱀버거 페어 트레이딩 알고리즘(Statistical Arbitrage)

- 알파
  - 효율적 시장가설을 뛰어넘는 타인은 볼 수 없는 패턴

뱀버거의 페어 트레이딩 알고리즘

1. 통계적 움직임이 비슷한 한쌍의 주식을 찾는다.
2. 주식 쌍의 통계쩍 특성인 상관 관계, 공적분, 역사적 스프레드 등을 구한다.
3. 미리 지정해 둔 스프레드 값 이상으로 두 쌍이 벌어지면 높은 쪽을 매도, 낮은 쪽을 매수한다.
4. 스프레드가 원래대로 돌아온다면 다시 청산을 하여서 수익을 얻는다.
5. 주식 쌍의 특성은 계속 변화하므로 끊임없이 데이터를 업데이트 한다.
6. 2로 돌아감

가격 자체의 변동 리스크는 공매수 공매도 혹은 옵션을 이용하면 될듯

### 다변인 모델 통계적 차익거래 알고리즘

- 개요
  - 현재 주가에 영향을 주는 여러 가지 위험 요인(Risk Factor)들을 데이터 분석을 통해 알아내고 이 위험 요인 분석에서 통계적으로 벗어났을 경우 알파로 간주하고 수익을 내는 구조
  - PCA(주성분분석)이용

### 히든 마코프 패턴 인식 알고리즘

- 히든 마코프 모델
  - 개요
    - 서로 관계없는 현상들에서 숨겨진 패턴을 찾는 데 최적화된 기술
  - 응용
    - 음성인식
      - 보이는 데이터는 음파이고, 숨겨진 패턴은 말을 한 문장
    - 철수의 행위 -> 날씨예측
    - 월마트 주차장 차량 증감률 -> 월마트 매출

1. 주가의 상태는 N개로 이루어져 있다고 가정
2. 히든 마코프 모델에 주어진 관찰 데이터, 즉 주가를 학습시켜서 확률표로 만듬
3. 여러가지 상태 모델과 관찰 데이터 중에 가장 정확도가 높은 모델을 선택
4. 주어진 모델을 이용해서 주가 패턴을 예측
5. 새로운 관찰 데이터가 나타나면 재학습을 시켜서 모델을 업데이트
6. 2로 돌아감

### 마켓 메이킹 알고리즘

- 개요
  - 자산을 팔려고 하는 사람에게서 싸게 사서 자산을 사려고하는 사람에게 비싸게 팜
    - 시장에 유동성 공급
    - 유동성이 증가하면 사는 가격과 파는 가격의 차이를 줄여줌
- 특징
  - 거래 성사 비율과 점유율을 늘리는 것이 최대 숙제
    - 알고리즘 트레이딩이 성행
  - 상대 알고리즘을 알아내서 투자 전략을 짜는 퀀트의 등장

1. 시장에 있는 가격 데이터를 수집하거나 적정 가격을 자신의 모델을 이용해서 계산
2. 1번에서 얻은 가격보다 약간 싼 가격에 매수 주문을, 약간 비싼 가격에 매도 주문을 동시에 보냄
3. 거래 성사 비율을 보면서 매수와 매도 주문 가격을 조금씩 수정
4. 시장이 지나치게 한 방향으로 움직이거나 재고가 쌓이면 가격을 파격적으로 움직여서 재고를 청산
5. 최대한 양방향 거래를 성사 시켜서 매수 가격과 매도 가격의 차이인 스프레드로 수익을 얻음

- 시장미시구조
  - 정의
    - 가격이 어떻게 형성되고 거래나 주문을 했을 때 시장이 어떤 충격을 받고 어떤 식으로 움직이는지를 연구하는 학문
      - 호가창에 기반하여 거래 전략을 생각
      - 통계와 확률 분포를 이용
  - 용어
    - Limit Order Book(호가창)
      - 사려는 사람들의 개수와 가격, 팔려는 사람의 개수와 가격을 모아놓은 창
    - 현재 가격
      - 거래가 성사되는 가격
    - 떨어지려는 강도가 강하다
      - 한 쪽으로 거래하려는 사람이 쏠려있는 경우

### 초단타 트레이딩 알고리즘

- 개요
  - 1 수요 공급 불균형(**시장 충격**)으로 미세하게 충격을 받았다가 돌아오는 타이밍을 찾아서 이를 이용해 수익을 얻음
    - 주식을 갖고 있는 시간은 몇초에 불과
  - 2 큰 거래를 해야하는 투자은행이나 자산 관리 업체들의 알고리즘을 파악하여 거래를 잡아먹음(싸게 사서 비싸게 팜)
