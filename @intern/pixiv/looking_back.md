# Pixivインターンを振り返って見ると

本日(2017. 9. 8)で最終発表も終わった。インターンに参加したみんな、それぞれのチームですごい活躍をしたことが最終発表会でわかった。

そもそも、今回のインターンシップに参加した人たちはみんな経験豊富ですごい人ばかりであった。

メンターさんたちも技術に非常に詳しく、心も優しく、みんな素晴らしかった。

今回は、その五日間の記憶を辿って感じたことを書きたいと思う。

## 第一番：夢を叶えた！！！

プログラミングの初心者のころから私は、オープンソースコミッターになることが「夢」だった。そこには、大きな理由があるわけではない。ただ、漠然とした憧れと、自分がもらったオープンソースの恩恵をそのコミュニーティに返したかったのである。

しかし、オープンソースに貢献する道は私には遠かった。そもそも、オープンソースはすごいできる「天才のようなプログラマー」が問題がある場合、ひたすら頑張って書いて自分のコードを反映する感じだと思っていた。それで、私は自分自身が「オープンソースにコントリビューションすることができない実力」であると考え、コミットしたいと思いながらも、実際行動したことは一度もなかった。自分の中ではオープンソースへコミットすることが「怖い」と思っていた。そもそも、やるとしてもどこから手をつければいいのかもわからなかったからだ。

それが、今回のPixiv BootCampインターンに参加してドラマチックに変わった。私は、MastodonというTwitterのようなマイクロブログアプリケーションのコントリビューターになった。現在のところは、5コミットしていて、中身は「翻訳」といったものからClient / Server両方に渡る画面追加まで様々な活動を行った。もちろん、バグ修正も行った。

そしてわかったのが、オープンソースにコミットすることに大事なことは、「実力」でなく貢献したいという「熱情」であることがわかった。対象となるプログラムが好きすぎで、どうしてでも貢献したいと思うことから始まると思う。本当に最初は簡単な翻訳や小さなUIの修正も良いと思う。そこからますます自分のできる領域を広めたら良いのである。

本日語ることはできなかったが、私の今の気持ちは、一年前、人生初コミットした時の感激・アメリカの宇宙船が月の表面に着陸し、ニールアムスロングが月の表面へ一歩を出した時の嬉しさと一緒である。

締めの言葉は以下がふさわしいだろう。

**That's one small step for (a) man, one giant leap for mankind.**
**(これは一人の人間にとっては小さな一歩だが、人類にとっては偉大な飛躍である)**

## 第二番：未来を考慮した設計の大事さ

今回、インターンシップで関わったMastodonはオープンソースであり、すごく大きな規模のSNSサービスである。最初は、規模の大きなオープンソースはわりとしっかりしているのかなとおもっていたが、逆にコードの流れがわかりにくいし、データフローや全体像がわかりにくいこともあるのをわかるようになった。

Mastodonのもっとも大きな問題は、Frontend側で、Reactを取り入れていてReduxを使っているが、ReduxのStoreと様々なコンポーネントが無分別に繋がっていることである。つまり、コンポーネントの役割分担が非常にわかりづらくなっている。ある小さなコンポーネントもStoreと繋がっていたり、大きなコンポーネントが全くなにとも繋がっていなかったり、一貫性が足りない設計である。もちろん、そこには深い理由があるかもしれないが、少なくとも、今回のメンターであったabcangも同意した意見である。

今、もし、自分がMastodonのテクニカルリーダーであるとしたら、きちんと、コンポーネントを分離し、Containerはもっとも大きな単位で管理していきたいと思う。Mastodonの場合、実際のメインページはTimeline一つしかないので、ColumnをContainerとして、使うことが適切ではないだろうか。それ以外のコンポーネントは全部`Props`を貰う形とし、非常に細かく責務分担を行うと、データフローが一定になり、人間がわかりやすいコードになるだろう。しかし、この方法は、Storeが肥大化すると、Containerコンポーネントからもっとも下のコンポーネントまでの`state渡し`がややこしく、難しくなるだろう。だからこそ、非常に細かく・論理的に矛盾のないコンポーネントの「責務分担」が必要であろう。

このように、Mastodonにコントリビュートしたおかげで、**設計の大切さ**　も肌で実感できた。もちろん、今のコードでも十分開発はできると思うが、「本当にこれで良いのか」に対しては考えるべき余地があるだろう。

## 第三番：ここでプログラミング歴を振り返る

私がプログラミングを入門したのは、ちょうど2年前の大学３回生の夏ごろだった。蒸し暑い中、夏休みでありながらもMicrosoft Surfaceを持って、学校に行って経済学部建物の地下で友達と勉強したことが今でも鮮明な記憶として残っている。当時は、韓国の「생활코딩」（生活コーディング）という無料でプログラミングを学べるサイトでウェブアプリケーションを作ろうコースを受講した。経済学部で、私の周りには、プログラミングができる人が誰一人もいなかった。それで、自分が何を知らないかも知らない状態で、コードを全部手書きでノートに書きながら勉強していた記憶がある。その当時私は、プログラミングは始めたものの、そこまで大きな興味は持っていなかった。確かに「面白い」とは思っていたが、自分がコースの最後で作り上げたWebページをみて「全然使えそうにないじゃないか」と感じた瞬間、プログラミングに対する興味をかなり失った。

私に転機が訪れたのは、私がプログラミングを勉強していることを噂て聞いた、情報系の後輩が「一緒にハッカソン出ませんか」と誘ってくれた11月上旬の夜である。当時は、プログラミンを初めて二ヶ月目。当然知識としては、HTMLのタグを書くとか、Bootstrapを使ったCSSを適用するぐらいであった。普通だったら、自分がなんの役にも立たないことがわかって絶対参加しなかっただろうが、なぜかその日は挑戦したかった。できなくても、少なくとも、どのような人がどのようなものをつくのかを自分の目で見ておきたかった。それで、参加することになり、一拍2日の間、ハッカソンを行った。当時、私と、師匠（一応後輩だけど、私にとってはプログラミングの師匠である）、誘ってくれた情報系の後輩三人で大会を出た。もちろん、予想した通り私は本当に何もできなかった。でも、私は、私以外の二人の会話が非常におもしろかったので、応援することだけでも非常に楽しかった。
